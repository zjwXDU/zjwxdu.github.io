<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.11.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="​ 在近一年半来学院同学们的不懈努力之下，我们具有电子信息特色的人工智能学院终于加了“计算机组成与系统结构”这门课。但…也并完全是一件好事。">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机组成">
<meta property="og:url" content="http://example.com/2022/04/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="​ 在近一年半来学院同学们的不懈努力之下，我们具有电子信息特色的人工智能学院终于加了“计算机组成与系统结构”这门课。但…也并完全是一件好事。">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/images/CS_1.png">
<meta property="og:image" content="http://example.com/images/CS_2.png">
<meta property="og:image" content="http://example.com/images/CS_3.png">
<meta property="og:image" content="http://example.com/images/CS_4.png">
<meta property="og:image" content="http://example.com/images/CS_5.png">
<meta property="og:image" content="http://example.com/images/CS_6.png">
<meta property="og:image" content="http://example.com/images/CS_7.png">
<meta property="article:published_time" content="2022-04-21T13:50:36.000Z">
<meta property="article:modified_time" content="2022-04-25T02:08:02.849Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="计算机组成">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/CS_1.png">


<link rel="canonical" href="http://example.com/2022/04/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2022/04/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90/","path":"2022/04/21/计算机组成/","title":"计算机组成"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>计算机组成 | Hexo</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Hexo</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%A0%A1%E9%AA%8C"><span class="nav-number">1.</span> <span class="nav-text">数据校验</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%A4%BA"><span class="nav-number">2.</span> <span class="nav-text">数据表示</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">43</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">27</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/04/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="计算机组成 | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          计算机组成
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-04-21 21:50:36" itemprop="dateCreated datePublished" datetime="2022-04-21T21:50:36+08:00">2022-04-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-04-25 10:08:02" itemprop="dateModified" datetime="2022-04-25T10:08:02+08:00">2022-04-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90/" itemprop="url" rel="index"><span itemprop="name">计算机组成</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>​
在近一年半来学院同学们的不懈努力之下，我们具有电子信息特色的人工智能学院终于加了“计算机组成与系统结构”这门课。但…也并完全是一件好事。</p>
<span id="more"></span>
<p>​
我对这门课产生不了什么丰富的见解，所以整理的目的只是梳理一下知识点，因为计组的知识点非常的琐碎，哪怕是一个期中考试driven下的整理，也很琐碎。</p>
<p>​
首先要利用乘基取整和除基取余将十进制转为任意进制，在这个转化中，二进制，八进制，十六进制比较重要。总之视角聚焦到了二进制上。二进制只有0和1，硬件实现上简单。下面的章节里就是在介绍如何用0和1来刻画我们之前的认知。</p>
<h2 id="数据校验">数据校验</h2>
<p>​
0和1本身的性质化简了很多问题，例如这个位置非0即1，不可能出现别的情况，那么传输的数据的位错误的情况就比较单一。这就引入了数据校验，即如何确认对方发送的数据是否在传输过程中发生了错误。书上介绍了三种方法，每一种方法都很巧妙，他们的共性都是对<span
class="math inline">\(n\)</span>位数据添加<span
class="math inline">\(k\)</span>位校验位。</p>
<p>​ 这里要引入汉明码距的概念，任意两个<span
class="math inline">\(m\)</span>位的码字，其对应位不同的树木称为两个码字的海明码距：
<span class="math display">\[
d=\left| x-y \right|=\sum_{i=0}^{m-1}{\left| x_i-y_i \right|}
\]</span> ​ 书上在这里介绍了一个关系：<span
class="math inline">\(n\)</span>位数据，加上<span
class="math inline">\(k\)</span>位校验位后，一共<span
class="math inline">\(m\)</span>位，总共有<span
class="math inline">\(2^m\)</span>种编码方式，其中<span
class="math inline">\(2^n\)</span>是合法的，在这些合法的编码方式里，两两之间的海明码距的最小值<span
class="math inline">\(d_{min}\)</span>称为这种编码方式的码距。如果要检测<span
class="math inline">\(r\)</span>位错误，则<span
class="math inline">\(d_{min}\)</span>至少需要为<span
class="math inline">\(r+1\)</span>，这样才能保证<span
class="math inline">\(r\)</span>位跳变不会跳到另一个合法码字上。如果需要实现纠错，则至少需要为<span
class="math inline">\(2r+1\)</span>。这种情况下，发生错误的码字与原始数据的码距为<span
class="math inline">\(r\)</span>，而错误码字与其他任意合法码字的码距大于等于<span
class="math inline">\(r+1\)</span>。所以此时只需要选取与其码距距离最小的作为正确的码字，即实现了纠错。</p>
<p>​
例如对于只有4个合法码字的编码为：000000,000111,111000,111111，我们计算这种编码的码距发现是3，那么当<span
class="math inline">\(r=1\)</span>，即有一位错误时，<span
class="math inline">\(3&gt;1+1,3&gt;2+1\)</span>，它同时可以完成检测和纠错。而当<span
class="math inline">\(r=2\)</span>时，它只能检错不能纠错。</p>
<p>​
实际情况中我们往往只考虑1位错误的情况，发生多位错误的概率很小。当只犯1位错误时，加上校验位后，校验位能表示的编码种类显然有：
<span class="math display">\[
2^m\geqslant 2^n\times \left( m+1 \right)
\\
m=n+k
\\
2^k\geqslant n+k+1
\]</span> ​ 奇偶校验，海明校验，循环冗余校验是三种经典的方法：</p>
<p>​ ①奇偶校验的原理很简单，实现容易，就是在<span
class="math inline">\(n\)</span>位数据前，加一个奇校验位<span
class="math inline">\(c\)</span>或偶校验位<span
class="math inline">\(c\)</span>，然后各位作异或。保证<span
class="math inline">\(n+1\)</span>位中1的个数是奇数。偶校验就是1的个数是偶数。显然这种方法只能检测出1位或者奇数位错误。</p>
<p>​ 例如确定<span
class="math inline">\(X=01010100\)</span>的偶校验编码和<span
class="math inline">\(Y=01010101\)</span>的奇校验编码： <span
class="math display">\[
c=x_0\oplus x_1\oplus ...\oplus x_{n-1}
\\
c_X=1
\\
X&#39;=101010100
\\
c_Y=0
\\
\text{奇校验取反},c_Y=1
\\
Y&#39;=101010101
\]</span> ​
②海明码非常的巧妙，详细的说明可以参考3b1b的视频，这里只给出记忆的应试策略：</p>
<p>例如对<span
class="math inline">\(D_8D_7D_6D_5D_4D_3D_2D_1=10101110\)</span>进行海明编码，一共有8位，根据前面的不等式，我们得出<span
class="math inline">\(k\)</span>至少为4。将校验位<span
class="math inline">\(P_i\)</span>插入海明码<span
class="math inline">\(H[n+k]\)</span>第<span
class="math inline">\(2^{i-1}\)</span>的位置：</p>
<p><img src="/images/CS_1.png" /></p>
<p>​ 之后将不是校验位的序号用二进制表示，然后从低到高为<span
class="math inline">\(1,2,3..\)</span>寻找每一列为1的，将对应的拿来作偶校验（异或）：</p>
<p><img src="/images/CS_2.png" /></p>
<p>​ 所以最后的海明编码即：101001110010</p>
<p>​
假设获得的海明编码是101001010010，即第六位跳变，则运行校验方程，即<span
class="math inline">\(P_i\)</span>分别与对应项进行异或：</p>
<p><img src="/images/CS_3.png" /></p>
<p>​ <span class="math inline">\(S_4 S_3 S_2 S_1\)</span>不为0，<span
class="math inline">\(0110\)</span>指出了错误位置在第六位。</p>
<p>​ ③循环冗余校验码简称<span
class="math inline">\(CRC\)</span>基于模2运算，即不进位的加减乘除，题目会给出一个生成多项式<span
class="math inline">\(G(x)\)</span>,<span
class="math inline">\(G(x)\)</span>的系数表示一个编码。将这个编码与信息左移最高次幂低位补零后作模2除，例：</p>
<p>​ 当信息码为101001时，选择生成多项式<span
class="math inline">\(G(x)=x^3+x^2+1\)</span>，生成多项式的二进制编码为1101，对两者进行模二除，得余数为001。将余数接在101001后面，即得<span
class="math inline">\(CRC\)</span>码101001001。</p>
<p>​
可以验证，如果用101001001与约定的生成多项式1101进行模2除，余数为0。若有错误，余数也会像海明码一样表示出错位置，但略有不同。</p>
<h2 id="数据表示">数据表示</h2>
<p>​
现在我们要着眼于0和1排列所表示的含义，先是定点数，定点数分为定点整数和定点小数。然后就是原码补码反码，对于定点整数，还有移码，这个是后话了。上述内容在大一上导论里已经有接触了，这里就不赘述了。这里强调一下原码补码反码移码的表示范围：</p>
<p>​ 设机器字长为<span
class="math inline">\(n+1\)</span>，我们考虑有符号位的。</p>
<table>
<colgroup>
<col style="width: 3%" />
<col style="width: 45%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>整数</th>
<th>小数</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>原码</td>
<td><span class="math inline">\(-\left( 2^n-1 \right) \leqslant
x\leqslant 2^n-1\)</span></td>
<td><span class="math inline">\(-\left( 1-2^{-n} \right) \leqslant
x\leqslant 1-2^{-n}\)</span></td>
</tr>
<tr class="even">
<td>反码</td>
<td><span class="math inline">\(-\left( 2^n-1 \right) \leqslant
x\leqslant 2^n-1\)</span></td>
<td><span class="math inline">\(-\left( 1-2^{-n} \right) \leqslant
x\leqslant 1-2^{-n}\)</span></td>
</tr>
<tr class="odd">
<td>补码</td>
<td><span class="math inline">\(- 2^n \leqslant x\leqslant
2^n-1\)</span></td>
<td><span class="math inline">\(-1 \leqslant x\leqslant
1-2^{-n}\)</span></td>
</tr>
<tr class="even">
<td>移码</td>
<td><span class="math inline">\(- 2^n \leqslant x\leqslant
2^n-1\)</span></td>
<td></td>
</tr>
</tbody>
</table>
<p>​
规律即原码和反码都遵循等比数列求和，可列出取值范围。由于它们中存在<span
class="math inline">\(+0,-0\)</span>，所以少表示一个值。补码和移码是保持一致的，但是移码只针对定点整数。</p>
<p>​ 下面重点要指出移位操作：</p>
<p>​
移位分为三种，算数移位，逻辑移位，循环移位。这里面需要强调的是负数补码的算数移位，其右移高位补1，左移低位补0。</p>
<p>​
下面我们来分析原码补码的加减乘除，首先原码的加减乘除不用多说，但实现上需要用到减法器，这增加了成本。我们可以用补码来进行加减运算，但要注意溢出。注意，只有正数+正数（上溢变成负数）或者负数+负数（下溢变成正数）才会发生溢出，正数-负数是不会的。</p>
<p>​ 基于此，判断溢出的方法有三种，道理类似：</p>
<p>​
第一种是双符号位（变形码），利用运算结果的双符号位作异或，如果为1说明溢出，（00是正，11是负）
<span class="math display">\[
OF=S_2\oplus S_1
\]</span> ​ 第二种采用一位符号位，可称作表达式法，记<span
class="math inline">\(A\)</span>的符号为<span
class="math inline">\(A_S\)</span>，<span
class="math inline">\(B\)</span>为<span
class="math inline">\(B_S\)</span>，运算结果的符号为<span
class="math inline">\(S_s\)</span>，则溢出的逻辑表达式为： <span
class="math display">\[
OF=A_SB_S\overline{S_S}+\overline{A_S}\overline{B_S}S_S
\]</span> ​ 实际上它枚举了两种溢出的情况，最后取了个或。</p>
<p>​
第三种是进位判决法，就是对符号位的进位和最高数值位的进位作异或……感觉道理和双符号位类似。
<span class="math display">\[
OF=C_2\oplus C_1
\]</span> ​
下面是原码和补码的乘除法，这里非常繁琐，如果想过考试需要勤加练习：</p>
<p>​ 结合硬件实现理解起来会简单不少，这里仅作记录。</p>
<p>​ 作原码一位乘法：<span
class="math inline">\(X=-0.1101,Y=+0.0110\)</span></p>
<p>​ 自然，被乘数<span
class="math inline">\([X]_原=1.1101,[Y]_原=0.0110\)</span>，乘积符号位<span
class="math inline">\(1 \oplus0=1\)</span></p>
<p>​ 之后我们对其绝对值进行原码一位乘法：</p>
<p><img src="/images/CS_4.png" /></p>
<p>​
彻底记住这个方法必须手动写一遍，本质上是根据乘数的最后一位来判断加<span
class="math inline">\(|X|\)</span>还是0，以及进行的是对<span
class="math inline">\(CF+D+A\)</span>的整体逻辑右移，最后的结果加上符号位就是乘数积<span
class="math inline">\(X\cdot Y=1.01001110\)</span></p>
<p>​
之后是补码的一位乘法，补码比较复杂，观察上面的原码一位乘法，发现他需要进行<span
class="math inline">\(n\)</span>轮移位和加法，补码的一位乘法还需要多进行一次加法，并且需要引入一个辅助位。基于这样的不同点，我们最好将两者对比起来记忆：</p>
<table>
<thead>
<tr class="header">
<th>原码一位乘法</th>
<th>补码一位乘法</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>进行<span class="math inline">\(n\)</span>轮加法和移位</td>
<td>在<span class="math inline">\(n\)</span>轮加法和移位上多加一次</td>
</tr>
<tr class="even">
<td><span class="math inline">\(+0,+[|X|_原]\)</span></td>
<td><span class="math inline">\(+0,+[X_补],+[-X_补]\)</span></td>
</tr>
<tr class="odd">
<td>逻辑右移</td>
<td>补码的算数右移（补1还是0需要根据正负）</td>
</tr>
<tr class="even">
<td>符号位不参与运算</td>
<td>符号位参与运算</td>
</tr>
</tbody>
</table>
<p>​
注意，原码一位乘法时用单符号位不会出错，而补码一位乘法时必须用双符号位，我们现在作补码的乘法练习一下，还是用上面那个例子：</p>
<p><span
class="math inline">\([X]_补=11.0011,[-X]_补=00.1101,[Y]_补=00.0110\)</span></p>
<p><img src="/images/CS_5.png" /></p>
<p>​
最后得到的结果是1.10110010，将补码转换为原码为1.01001110和上面原码一位乘法是一样的。</p>
<p>​
最后是除法，和乘法类似，分为原码的除法和补码的除法，我们首先讨论原码的除法，有两种：恢复余数法和加减交替法，其实后者是前者的优化：</p>
<p>​ 我们现在作<span
class="math inline">\(X=-0.10001011,Y=0.1110\)</span>试用恢复余数法求<span
class="math inline">\(X \div Y\)</span>的商和余数：</p>
<p>​ 首先我们列写：<span
class="math inline">\([|X|]_原=0.10001011,[|Y|]_原=0.1110,[|Y|]_补=0.1110,[|-Y|]_补=1.0011\)</span></p>
<p>​ 符号位显然可以确定为1：</p>
<p><img src="/images/CS_6.png" /></p>
<p>​ 那么商即为1.1001，余数的符号与被除数<span
class="math inline">\(X\)</span>一致，为<span
class="math inline">\(-0.1101\times 2^{-4}\)</span>。</p>
<p>​ 加减交替法其实就是当上述过程中，若商为0了，不再进行加<span
class="math inline">\(Y\)</span>然后左移减<span
class="math inline">\(Y\)</span>，实际上这个过程等效于直接加左移加<span
class="math inline">\(Y\)</span>。所以就这样“加减交替”。</p>
<p>​
补码的除法只介绍了加减交替法，类似于补码乘法，它有它独特的性质，我们仍以上面那个例子为例：<span
class="math inline">\([X]_补=1.01110101,[Y]_补=0.1110,[-Y]_补=1.0010\)</span>:</p>
<p><img src="/images/CS_7.png" /></p>
<p>​
最后算出来的数都是自带符号位的，商虽然对上了但是余数没对上，很怪。我表示很迷，但是不影响应试……这个运算方法太深奥了，应付考试给出的定点小数的特殊情形就已经很难理解了。</p>
<p>​
然后是浮点数……呜呜呜，浮点数就像是科学计数法，它利用阶码和尾数来表示一个数。阶码是一个常用补码或移码表示的定点整数，尾数是常用原码和补码表示的定点小数。阶符和数符表示它们的正负。浮点数的规格化，就是在存储空间不变的情况下，尽可能多的保持精度。就像科学计数法中让第一位为有效值一样。规格化分为左规和右规：</p>
<p>​ 左规：尾数算数左移1位，阶码减1，直到尾数最高位是有效值。</p>
<p>​
右规：一般出现在尾数溢出时，即数符双符号位为01或10，将尾数算数右移1位，阶码加1。</p>
<p>​
但是视尾数用原码还是补码表示的不同，尾数的规格化有一些不一样的要求：</p>
<p>​
由于规格化后的原码尾数，最高数值位一定是1，所以如果是正数，最大值为0.11...1,最小值为0.10..0。负数的道理也是一样的，最高数值为一定要是1.</p>
<p>​
当尾数用补码表示时，<strong>必须要求规格化后的符号位与数值位一定相反</strong>。</p>
<p>​ 现在我们用浮点数的加减这一流程，把这几个概念融合一下。</p>
<p>​ 已知十进制数<span
class="math inline">\(X=-5/256,Y=+59/1024\)</span>，按机器补码浮点运算规则计算<span
class="math inline">\(X-Y\)</span>，结果用二进制表示，要求阶符取2位，阶码取3位，数符取2位，尾数取9位。</p>
<p>​
浮点数的加减运算分为五步：对阶（小阶对大阶），尾数加减，规格化，舍入，判溢出
<span class="math display">\[
-5=-101,1/256=2^{-8}
\\
X=-101\times 2^{-8}=-0.394531-0.101\times 2^{-5}
\\
=-0.101\times 2^{-101}
\\
Y=111011\times 2^{-10}=0.111011\times 2^{-4}=0.111011\times 2^{-100}
\]</span> ​ 这样我们得到了原码表示，之后转为题目要求的补码浮点数表示：
<span class="math display">\[
X=11.011,11.011000000
\\
Y=11.100,00.111011000
\]</span> ​ 可知<span class="math inline">\(X\)</span>比<span
class="math inline">\(Y\)</span>低一阶，对<span
class="math inline">\(X\)</span>​进行对阶，尾数算数右移一位，阶码加1，这里由于是负数的补码的算数右移，高位补1：
<span class="math display">\[
X=11.100,11.101100000
\]</span> ​ 然后作<span class="math inline">\(-Y\)</span>，得<span
class="math inline">\(-Y\)</span>的补码表示<span
class="math inline">\(11.100,11.000101000\)</span>，尾数相减得： <span
class="math display">\[
11.101100000+11.000101000
\\
=10.110001000
\]</span> ​ 这样<span
class="math inline">\(X-Y=11.100,10.110001000\)</span>，进行规格化，算数右移1位，由于双符号位最高位是1，所以不1，得<span
class="math inline">\(11.101,11,011000100\)</span>，然后也不用舍入，看双符号位也没有溢出。所以再转成原码：
<span class="math display">\[
2^{-3}\times \left( -0.100111100 \right)
\]</span> ​
刚才我们没有判断舍入的过程，第一种是“0舍1入”，即如果右规丢掉了一个1，就像四舍五入一样，在末位+1，但是如果这样导致尾数又溢出了，那就继续右规。第二种是“恒置1法”，即不管丢掉的是啥，尾数末位恒写为1。</p>
<p>​
由于阶码也射击加1和减1，当阶码超出上限，则发生上溢，而如果超出下限，则会被记为机器数0。</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90/" rel="tag"># 计算机组成</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/04/18/%E5%82%85%E9%87%8C%E5%8F%B6%E5%8F%98%E6%8D%A23/" rel="prev" title="傅里叶变换3">
                  <i class="fa fa-chevron-left"></i> 傅里叶变换3
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/04/24/%E5%82%85%E9%87%8C%E5%8F%B6%E5%8F%98%E6%8D%A24/" rel="next" title="傅里叶变换4">
                  傅里叶变换4 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
